<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quran Verse Image Generator</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        body { font-family: 'Amiri', serif; text-align: center; }
        .verse-container { display: flex; flex-direction: column; align-items: center; margin-top: 20px; }
        .image-preview { width: 300px; height: 200px; position: relative; display: none; }
        .image-preview canvas { width: 100%; height: 100%; }
        .image-bg { width: 100%; height: 100%; position: absolute; top: 0; left: 0; }
        .image-text { position: absolute; width: 80%; text-align: center; color: white; font-size: 24px; }
        .controls { margin-top: 10px; }
    </style>
</head>
<body>
    <div class="verse-container">
        <select id="background-select">
            <option value="bg1">Background 1</option>
            <option value="bg2">Background 2</option>
        </select>
        <input type="color" id="text-color" value="#ffffff">
        <button onclick="generateImage()">Generate Image</button>
    </div>
    <div class="image-preview" id="image-preview">
        <img id="image-bg" src="" class="image-bg">
        <div id="image-text" class="image-text">Sample Verse Text</div>
    </div>
    <button id="download-btn" style="display:none;" onclick="downloadImage()">Download</button>
    
    <script>
        function generateImage() {
            const verseText = "إِنَّا أَعْطَيْنَاكَ الْكَوْثَرَ"; // Example verse
            const bgSelect = document.getElementById('background-select').value;
            const textColor = document.getElementById('text-color').value;
            
            const bgImages = {
                bg1: "https://i.ytimg.com/vi/vsGDkyfbOCw/hq720.jpg",
                bg2: "https://t4.ftcdn.net/jpg/03/21/06/95/360_F_321069500_jgiE640YA8DHtZjwMRftcTtnYNo7sHwR.jpg"
            };
            
            document.getElementById('image-bg').src = bgImages[bgSelect];
            document.getElementById('image-text').innerText = verseText;
            document.getElementById('image-text').style.color = textColor;
            document.getElementById('image-preview').style.display = 'block';
            document.getElementById('download-btn').style.display = 'block';
        }
        
        function downloadImage() {
            html2canvas(document.getElementById('image-preview')).then(canvas => {
                const link = document.createElement('a');
                link.download = 'verse-image.png';
                link.href = canvas.toDataURL();
                link.click();
            });
        }
    </script>
</body>
</html>
